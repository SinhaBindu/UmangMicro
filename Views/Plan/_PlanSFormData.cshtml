@using System.Data
@using UmangMicro.Manager
@{
    ViewBag.Title = "Plan";
    DataTable dt = new DataTable();
    if (Model != null)
    {
        dt = Model;
    }
}
<strong>Plan</strong>
<div class="row row-deck">
    <div class="col-lg-12 col-md-12">
        <div class="card">
            <div class="">
                <table class="table table-bordered table-hover dt-responsive display" id="DataList" width="100%">
                    <thead>
                        <tr>
                            <th>SrNo.</th>
                            <th>Plan Date</th>
                            <th>District</th>
                            <th>Block</th>
                            <th>School</th>
                            <th>Class</th>
                            @if (ViewBag.task == 2)
                            {
                                <th>Session Type</th>
                                <th>Session</th>
                                <th>No of Student</th>
                                @*
                                    <th>Achieved No of Student</th>
                                    <th>Achievement Date</th>
                                    <th>Achievement Image Upload</th>
                                *@
                                <th>Achievement</th>
                            }
                            else
                            {
                                <th>Session</th>
                            }
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            int sno = 1;
                            if (Model != null)
                            {
                                foreach (DataRow dr in dt.Rows)
                                {
                                    <tr>
                                        <td class="text-center">@(sno++)</td>
                                        <td class="text-center">@CommonModel.FormateDtDMY(dr["ConductedDate"].ToString())</td>
                                        <td class="text-left">@dr["district_name"]</td>
                                        <td class="text-left">@dr["block_name"]</td>
                                        <td class="text-left">@dr["school_name"]</td>
                                        <td class="text-center">@dr["CalssMlt"]</td>
                                        @if (ViewBag.task == 2)
                                        {
                                            <td class="text-center">@dr["SessionTypeText"]</td>
                                            <td class="text-center">@dr["SessionText"]</td>
                                            <td class="text-center">@dr["NoofStudent"]</td>
                                            @*<td class="text-left">
                                                @Html.Editor("AchievedNoofStudent", new { htmlAttributes = new { @class = "form-control", @required = "required", maxlength = "3", min = "0", @placeholder = "No. of students" } })
                                            </td>
                                            <td class="text-left">
                                                @Html.Editor("AchievementDate", new { htmlAttributes = new { @class = "form-control datepicker", @required = "required", maxlength = "11", placeholder = "dd-mmm-yyyy" } })
                                            </td>
                                            <td class="text-center">
                                                <input type="file" class="form-control" name="AchieveImagepath" id="AchieveImagepath" accept="image/*" />
                                            </td>*@
                                            <td class="text-center">
                                                <a href="~/PlanController/" class="btn btn-info" name="btnAchieve" id="btnAchieve"><i class="fa fa-edit"></i> Achieve </a>
                                            </td>
                                        }
                                        else
                                        {
                                            <td class="text-center">@dr["SessionText"]</td>
                                        }
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr><td colspan="12" class="text-danger"><strong> Record Not Found !!</strong></td></tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
